{"version":3,"sources":["components/organisms/SharingOrg/SharingOrg.module.scss","components/organisms/ReconstructionOrg/ReconstructionOrg.module.scss","components/atoms/CustomInput/CustomInput.module.scss","components/molecules/SharingTable/SharingTable.module.scss","components/pages/Home/Home.module.scss","components/layouts/Layout/Layout.module.scss","components/molecules/ErrorGate/ErrorGate.module.scss","assets/logo.svg","components/atoms/CustomButton/CustomButton.module.scss","assets/Nfc-icon-vector-01.svg","components/molecules/SharesTable/SharesTable.module.scss","assets/home.svg","assets/sharing.svg","assets/reconstruction.svg","components/organisms/NFCGate/NFCGate.module.scss","components/molecules/ErrorGate/ErrorGate.component.tsx","components/layouts/Layout/Layout.component.tsx","components/atoms/CustomInput/CustomInput.components.tsx","components/atoms/CustomButton/CustomButton.component.tsx","store/sharing/sharing.types.ts","store/sharing/sharing.actions.ts","components/molecules/MessageForm/MessageForm.component.tsx","components/molecules/SharingTable/SharingTable.component.tsx","components/organisms/SharingOrg/SharingOrg.component.tsx","logics/SSSS/utils.ts","logics/convertor.ts","logics/SSSS/reconstruction.ts","logics/SSSS/config.ts","components/molecules/SharesTable/SharesTable.component.tsx","components/organisms/ReconstructionOrg/ReconstructionOrg.component.tsx","store/reconstruction/reconstruction.types.ts","store/reconstruction/reconstruction.actions.ts","components/pages/index.ts","components/pages/Home/Home.component.tsx","components/pages/Sharing/Sharing.component.tsx","components/pages/Reconstruction/Reconstruction.component.tsx","store/nfc/nfc.reducer.ts","store/config/config.reducer.ts","store/sharing/sharing.reducer.ts","store/reconstruction/reconstruction.reducer.ts","store/rootReducer.ts","store/config/config.types.ts","store/config/config.actions.ts","store/nfc/nfc.types.ts","store/nfc/nfc.actions.ts","store/nfc/nfc.sagas.ts","logics/SSSS/sharing.ts","store/sharing/sharing.sagas.ts","store/reconstruction/reconstruction.sagas.ts","store/rootSaga.ts","store/index.ts","components/organisms/NFCGate/NFCGate.component.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["module","exports","ErrorGate","children","error","useSelector","state","config","useEffect","Date","getTime","date","targetNode","document","querySelector","textContent","errorMain","createElement","errorTitle","classList","add","innerHTML","errorBody","message","appendChild","id","className","styles","Layout","pageTitle","layout","body","title","footer","pages","map","page","key","name","to","path","src","iconUrl","alt","CustomInputText","label","setValue","otherProps","handleChange","e","preventDefault","target","value","form","type","onChange","CustomInputNumber","min","max","handleIncrement","useCallback","navigator","vibrate","handleDecrement","inputNum","onClick","disabled","numValue","CustomButton","customButton","SharingActionTypes","initSharingState","MessageForm","dispatch","useDispatch","useState","setMessage","threshhold","setThreshhold","num","setNum","handleSharingStart","messageForm","payload","startSharing","t","n","maxLength","style","textAlign","SharingCount","sharing","sharesNum","count","targets","querySelectorAll","forEach","i","setAttribute","cardCSS","cardTable","Array","_","card","hidden","SharingTable","sharingTable","info","SharingOrg","step","sharingStep","SharingCompleted","sharingComp","cards","nfc","waves","wave","nfcLogo","elInverse","el","q","modExp","a","b","result","x","leastSignificantBit","Math","floor","strToShare","str","list","split","sharingId","Number","y","Error","encodeToNumArr","u8Array","window","TextEncoder","util","encode","from","decodeFromNumArr","numArr","Uint8Array","TextDecoder","decode","reconstruction","shares","length","sharesList","share","shareY","corr","push","msgNumArr","res","s","seekIntercept","SharesTable","sharesTable","ReconstructionOrg","SSSSReconstruction","slice","messageBody","ReconstructionActionTypes","setShares","component","img","logo","href","warning","homeIcon","sharingIcon","isReady","reconstructionIcon","initialState","enabled","fetchedMessage","ndef","rootReducer","combineReducers","action","NDEFReader","ConfigActionTypes","setError","NFCActionTypes","setFetchedMessage","writingNDEF","readingNFC","appendFetchedMessageToShares","onReadingNFC","onChangeFetchedMessage","writeNDEF","write","readNFC","reader","onerror","console","log","onreading","event","records","record","recordType","data","scan","select","call","store","put","text","takeLatest","all","msgEncoded","String","now","msg","f","random","getRandomIntList","j","shareX","val","k","pow","sendShares","onSharingStart","counter","shareMsg","Promise","resolve","setTimeout","SSSSSharing","appendingShareFromText","onAppendShare","find","newShares","rootSaga","sharingSagas","nfcSagas","reconstructionSagas","sagaMiddleware","createSagaMiddleware","middlewares","createStore","applyMiddleware","run","NFCGate","NFCDenied","denied","App","exact","Boolean","location","hostname","match","ReactDOM","render","StrictMode","getElementById","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.24d03668.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"sharingComp\":\"SharingOrg_sharingComp__2i_v4\",\"title\":\"SharingOrg_title__3z7HK\",\"body\":\"SharingOrg_body__15mPA\",\"cards\":\"SharingOrg_cards__6wPS6\",\"card\":\"SharingOrg_card__Vb8KW\",\"card-fade-in-1\":\"SharingOrg_card-fade-in-1__2MRUR\",\"card-fade-in-2\":\"SharingOrg_card-fade-in-2__Dk0l-\",\"card-fade-in-3\":\"SharingOrg_card-fade-in-3__2523f\",\"nfc\":\"SharingOrg_nfc__24NrY\",\"waves\":\"SharingOrg_waves__2wbHj\",\"wave\":\"SharingOrg_wave__2vz4z\",\"nfcLogo\":\"SharingOrg_nfcLogo__2iaYV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cardTable\":\"ReconstructionOrg_cardTable__1sC5Y\",\"card\":\"ReconstructionOrg_card__1ag0j\",\"fade-in-over\":\"ReconstructionOrg_fade-in-over__1oPjd\",\"y\":\"ReconstructionOrg_y__3H9ct\",\"waves\":\"ReconstructionOrg_waves__335Ua\",\"wave\":\"ReconstructionOrg_wave__FFI_O\",\"messageBody\":\"ReconstructionOrg_messageBody__17fee\",\"width-up\":\"ReconstructionOrg_width-up__1HQKT\",\"message\":\"ReconstructionOrg_message__1wPL3\",\"height-up\":\"ReconstructionOrg_height-up__3UL0d\",\"info\":\"ReconstructionOrg_info__3jOeY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"CustomInput_form__37zEK\",\"label\":\"CustomInput_label__2r_0u\",\"inputNum\":\"CustomInput_inputNum__KDUZA\",\"numValue\":\"CustomInput_numValue__A1_NZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sharingTable\":\"SharingTable_sharingTable__3Oz6-\",\"message\":\"SharingTable_message__2TChX\",\"fade-out-smaller\":\"SharingTable_fade-out-smaller__2aCDG\",\"cardTable\":\"SharingTable_cardTable__3pbMt\",\"card\":\"SharingTable_card__2pfwy\",\"hidden\":\"SharingTable_hidden__3-cjz\",\"fade-out-over\":\"SharingTable_fade-out-over__KcWcE\",\"info\":\"SharingTable_info__vcXU5\",\"fade-in\":\"SharingTable_fade-in__235z6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"img\":\"Home_img__JSeNz\",\"card\":\"Home_card__AHLqY\",\"warning\":\"Home_warning__cWbsQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"layout\":\"Layout_layout__1LNGG\",\"body\":\"Layout_body__euvlM\",\"title\":\"Layout_title__1A0vI\",\"footer\":\"Layout_footer__3dJbr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"errorMain\":\"ErrorGate_errorMain__3swJY\",\"fade-in\":\"ErrorGate_fade-in__1uoGb\"};","module.exports = __webpack_public_path__ + \"static/media/logo.37bcc4f9.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"customButton\":\"CustomButton_customButton__3WPOj\"};","module.exports = __webpack_public_path__ + \"static/media/Nfc-icon-vector-01.2382757f.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sharesTable\":\"SharesTable_sharesTable__2SUkD\"};","module.exports = __webpack_public_path__ + \"static/media/home.aaa4b562.svg\";","module.exports = __webpack_public_path__ + \"static/media/sharing.77452735.svg\";","module.exports = __webpack_public_path__ + \"static/media/reconstruction.f5d24c9c.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"denied\":\"NFCGate_denied__16p6I\"};","import React, { useEffect } from 'react'\nimport { useSelector } from 'react-redux'\n\nimport styles from './ErrorGate.module.scss'\n// ____________________________________________________________________________\n//\nexport const ErrorGate: React.FC = ({ children }) => {\n  const error = useSelector((state) => state.config.error)\n\n  useEffect(() => {\n    if (!error) return\n    if (new Date().getTime() - error.date.getTime() > 500) return\n    const targetNode = document.querySelector('#error')\n    if (!targetNode) return\n    targetNode.textContent = null\n\n    const errorMain = document.createElement('div')\n    const errorTitle = document.createElement('div')\n    errorTitle.classList.add('error__title')\n    errorTitle.innerHTML = 'Error'\n    const errorBody = document.createElement('div')\n    errorBody.classList.add('error__body')\n    errorBody.innerHTML = error.message\n\n    errorMain.appendChild(errorTitle)\n    errorMain.appendChild(errorBody)\n    targetNode.appendChild(errorMain)\n  }, [error])\n\n  return (\n    <>\n      <div id=\"error\" className={styles.errorMain}></div>\n      {children}\n    </>\n  )\n}\n","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nimport styles from './Layout.module.scss'\n\nimport { ErrorGate } from '../../molecules/ErrorGate/ErrorGate.component'\n\nimport { pages } from '../../pages'\n// ____________________________________________________________________________\n//\ntype Layout = {\n  pageTitle?: string\n}\n// ____________________________________________________________________________\n//\nexport const Layout: React.FC<Layout> = ({ children, pageTitle }) => {\n  return (\n    <div className={styles.layout}>\n      <ErrorGate>\n        <div className={styles.body}>\n          {pageTitle && <div className={styles.title}>{pageTitle}</div>}\n          {children}\n        </div>\n        <div className={styles.footer}>\n          {pages.map((page) => (\n            <Link key={`PATH-${page.name}`} to={page.path}>\n              <img src={page.iconUrl} alt={page.name} />\n              <span>{page.name}</span>\n            </Link>\n          ))}\n        </div>\n      </ErrorGate>\n    </div>\n  )\n}\n","import React, { useCallback } from 'react'\n\nimport styles from './CustomInput.module.scss'\n// _________________________________________________\n//\ntype CustomInputText = {\n  label?: string\n  value: string\n  setValue: (value: string) => void\n} & React.InputHTMLAttributes<HTMLInputElement>\n\ntype CustomInputNumber = {\n  label?: string\n  min: number\n  max: number\n  value: number\n  setValue: (value: number) => void\n} & React.InputHTMLAttributes<HTMLInputElement>\n// _________________________________________________\n//\nexport const CustomInputText: React.FC<CustomInputText> = ({\n  label,\n  setValue,\n  ...otherProps\n}) => {\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    e.preventDefault()\n\n    setValue(e.target.value)\n  }\n\n  return (\n    <div className={styles.form}>\n      {label ? (\n        <label>\n          <span className={styles.label}>{label}</span>\n          <input type=\"text\" onChange={handleChange} {...otherProps} />\n        </label>\n      ) : (\n        <input type=\"text\" onChange={handleChange} {...otherProps} />\n      )}\n    </div>\n  )\n}\n\nexport const CustomInputNumber: React.FC<CustomInputNumber> = ({\n  label,\n  value,\n  setValue,\n  min,\n  max,\n  ...otherProps\n}) => {\n  const handleIncrement = useCallback(() => {\n    if (value < max) {\n      navigator.vibrate(50)\n      setValue(value + 1)\n    }\n  }, [value, max, setValue])\n  const handleDecrement = useCallback(() => {\n    if (value > min) {\n      navigator.vibrate(50)\n      setValue(value - 1)\n    }\n  }, [value, min, setValue])\n\n  return (\n    <div className={styles.form}>\n      {label ? (\n        <>\n          <span className={styles.label}>{label}</span>\n          <div className={styles.inputNum}>\n            <button onClick={handleDecrement} disabled={value <= min}>\n              -\n            </button>\n            <span className={styles.numValue}>{value}</span>\n            <button onClick={handleIncrement} disabled={value >= max}>\n              +\n            </button>\n          </div>\n        </>\n      ) : (\n        <div className={styles.inputNum}>\n          <button onClick={handleDecrement}>-</button>\n          <span className={styles.numValue}>{value}</span>\n          <button onClick={handleIncrement}>+</button>\n        </div>\n      )}\n    </div>\n  )\n}\n","import React from 'react'\n\nimport styles from './CustomButton.module.scss'\n// _______________________________________\n//\ntype CustomButton = {\n  onClick: (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => void\n} & React.ButtonHTMLAttributes<HTMLButtonElement>\n// _______________________________________\n//\nexport const CustomButton: React.FC<CustomButton> = ({\n  children,\n  onClick,\n  ...otherProps\n}) => {\n  return (\n    <>\n      <button\n        className={styles.customButton}\n        onClick={onClick}\n        {...otherProps}\n      >\n        {children}\n      </button>\n    </>\n  )\n}\n","export const SharingActionTypes = {\n  INIT_SHARING_STATE: 'SHARING:INIT_SHARING_STATE',\n  SET_COUNTER: 'SHARING:SET_COUNTER',\n  DECREMENT_COUNTER: 'SHARING:DECREMENT_COUNTER',\n  START_SHARING: 'SHARING:START_SHARING',\n  END_SHARING: 'SHARING:END_SHARING',\n} as const\n","import { SharingActionTypes } from './sharing.types'\n\nimport { MessageForm } from '../../types/form'\n// ____________________________________________________________________________\n//\nexport const initSharingState = () => ({\n  type: SharingActionTypes.INIT_SHARING_STATE,\n})\n\nexport const setCounter = (count: number) => ({\n  type: SharingActionTypes.SET_COUNTER,\n  payload: { count },\n})\n\nexport const decrementCounter = () => ({\n  type: SharingActionTypes.DECREMENT_COUNTER,\n})\n\nexport const startSharing = (messageForm: MessageForm) => ({\n  type: SharingActionTypes.START_SHARING,\n  payload: { messageForm },\n})\n\nexport const endSharing = () => ({\n  type: SharingActionTypes.END_SHARING,\n})\n","import React, { useState, useCallback } from 'react'\nimport { useDispatch } from 'react-redux'\n\nimport {\n  CustomInputText,\n  CustomInputNumber,\n} from '../../atoms/CustomInput/CustomInput.components'\nimport { CustomButton } from '../../atoms/CustomButton/CustomButton.component'\n\nimport { startSharing } from '../../../store/sharing/sharing.actions'\n\nimport { MessageForm as TMessageForm } from '../../../types/form'\n// ____________________________________________________________________________\n//\nexport const MessageForm: React.FC = () => {\n  const dispatch = useDispatch()\n  const [message, setMessage] = useState('')\n  const [threshhold, setThreshhold] = useState(2)\n  const [num, setNum] = useState(3)\n\n  const handleSharingStart = useCallback(() => {\n    const messageForm: TMessageForm = {\n      message,\n      t: threshhold,\n      n: num,\n    }\n    dispatch(startSharing(messageForm))\n  }, [dispatch, message, threshhold, num])\n\n  return (\n    <div>\n      <CustomInputText\n        label=\"Message\"\n        value={message}\n        setValue={setMessage}\n        maxLength={20}\n      />\n      <CustomInputNumber\n        label=\"Threshold\"\n        value={threshhold}\n        setValue={setThreshhold}\n        min={2}\n        max={num}\n      />\n      <CustomInputNumber\n        label=\"Number of Shares\"\n        value={num}\n        setValue={setNum}\n        min={threshhold}\n        max={9}\n      />\n      <div style={{ textAlign: 'center' }}>\n        <CustomButton onClick={handleSharingStart} disabled={!message}>\n          Sharing\n        </CustomButton>\n      </div>\n    </div>\n  )\n}\n","import React, { useEffect } from 'react'\nimport { useSelector } from 'react-redux'\n\nimport styles from './SharingTable.module.scss'\n// ____________________________________________________________________________\n//\nconst cardCSS = (i: number, num: number) => {\n  return `transform: translate(-50%, -50%) rotate(${\n    (60 * (-num + 2 * i + 1)) / num\n  }deg);`\n}\n\nconst SharingCount: React.FC = () => {\n  const { sharesNum, count } = useSelector((state) => state.sharing)\n\n  useEffect(() => {\n    const targets = document.querySelectorAll('#card')\n    if (targets) {\n      targets.forEach((t, i) => {\n        t.setAttribute('style', cardCSS(i, count))\n      })\n    }\n  }, [count])\n\n  return (\n    <>\n      <div className={styles.cardTable}>\n        {[...Array(sharesNum)].map((_, i) => (\n          <div\n            key={`CARD-${i}`}\n            id=\"card\"\n            className={`${styles.card} ${i + 1 > count ? styles.hidden : ''}`}\n          ></div>\n        ))}\n      </div>\n    </>\n  )\n}\n\nexport const SharingTable: React.FC = () => {\n  const { message } = useSelector((state) => state.sharing)\n\n  return (\n    <>\n      <div className={styles.sharingTable}>\n        <div className={styles.message}>{message}</div>\n        <SharingCount />\n      </div>\n      <div className={styles.info}>PUT NFC</div>\n    </>\n  )\n}\n","import React from 'react'\nimport { useSelector } from 'react-redux'\n\nimport { MessageForm } from '../../molecules/MessageForm/MessageForm.component'\nimport { SharingTable } from '../../molecules/SharingTable/SharingTable.component'\n\nimport nfcLogo from '../../../assets/Nfc-icon-vector-01.svg'\nimport styles from './SharingOrg.module.scss'\n// ____________________________________________________________________________\n//\nexport const SharingOrg: React.FC = () => {\n  const step = useSelector((state) => state.sharing.sharingStep)\n  return (\n    <>\n      {step === 'INPUT' && <MessageForm />}\n      {step === 'SHARING' && <SharingTable />}\n      {step === 'SUCCESS' && <SharingCompleted />}\n    </>\n  )\n}\n\nconst SharingCompleted: React.FC = () => {\n  return (\n    <div className={styles.sharingComp}>\n      <div className={styles.title}>Completed !!</div>\n      <div className={styles.body}>\n        <div className={styles.cards}>\n          <div className={styles.card}></div>\n          <div className={styles.card}></div>\n          <div className={styles.card}></div>\n        </div>\n        <div className={styles.nfc}>\n          <div className={styles.waves}>\n            <span className={styles.wave}></span>\n            <span className={styles.wave}></span>\n            <span className={styles.wave}></span>\n          </div>\n          <div className={styles.nfcLogo}>\n            <img src={nfcLogo} alt=\"nfc\" />\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n","export interface Coordinate {\n  x: number\n  y: number\n}\n// ____________________________________________________________________________\n//\nexport const getRandomIntList = (n: number, q: number): number[] => {\n  return [...Array(n)].map(() => Math.floor(Math.random() * q))\n}\n\nexport const elInverse = (el: number, q: number): number => {\n  if (el === 0) return 1\n  return modExp(el, q - 2, q)\n}\n\nexport const seekIntercept = (shares: Coordinate[], q: number): number => {\n  let result = 0\n\n  for (const { x, y } of shares) {\n    let res = y\n    for (const s of shares) {\n      if (x === s.x) continue\n      res *= (-s.x * elInverse(x - s.x, q)) % q\n    }\n    result += res\n  }\n  result = result < 0 ? (result % q) + q : result % q\n\n  return result\n}\n// __________________________\n//\n// https://gist.github.com/krzkaczor/0bdba0ee9555659ae5fe\nconst modExp = (a: number, b: number, n: number) => {\n  a = a % n\n  let result = 1\n  let x = a\n\n  while (b > 0) {\n    const leastSignificantBit = b % 2\n    b = Math.floor(b / 2)\n\n    if (leastSignificantBit === 1) {\n      result = result * x\n      result = result % n\n    }\n\n    x = x * x\n    x = x % n\n  }\n  return result\n}\n","import * as util from 'util'\n\nimport { Share } from '../types/store'\n// ____________________________________________________________________________\n//\nexport const shareToStr = (share: Share): string => {\n  return `${share.sharingId},,${share.t},,${share.x},,${share.y}`\n}\n\nexport const strToShare = (str: string): Share => {\n  const list = str.split(',,')\n\n  try {\n    const share: Share = {\n      sharingId: list[0],\n      t: Number(list[1]),\n      x: Number(list[2]),\n      y: list[3],\n    }\n    return share\n  } catch {\n    throw new Error('対応している形式ではありません。')\n  }\n}\n\nexport const encodeToNumArr = (str: string) => {\n  let encoder: TextEncoder\n  if ('TextEncoder' in window) {\n    encoder = new TextEncoder()\n  } else {\n    encoder = new util.TextEncoder()\n  }\n  const u8Array = encoder.encode(str)\n  const result = Array.from(u8Array)\n\n  return result\n}\n\nexport const decodeFromNumArr = (numArr: number[]) => {\n  const u8Array = new Uint8Array(numArr)\n  let decoder: TextDecoder\n  if ('TextDecoder' in window) {\n    decoder = new TextDecoder()\n  } else {\n    decoder = new util.TextDecoder() as TextDecoder\n  }\n  const result = decoder.decode(u8Array)\n\n  return result\n}\n","import { seekIntercept } from './utils'\nimport { encodeToNumArr, decodeFromNumArr } from '../convertor'\nimport { q } from './config'\n\nimport type { Coordinate } from './utils'\nimport type { Share } from '../../types/store'\n//_____________________________________________________________________________\n//\nexport const reconstruction = (shares: Share[]): string => {\n  if (shares.length === 0) throw new Error('shares must be none empty')\n  if (shares[0].t > shares.length)\n    throw new Error('the number of shares must be greater or equal t')\n\n  const sharesList: Coordinate[][] = []\n  for (const share of shares) {\n    const shareYEncoded = encodeToNumArr(share.y)\n    shareYEncoded.forEach((shareY, i) => {\n      const corr: Coordinate = {\n        x: share.x,\n        y: shareY,\n      }\n      if (i in sharesList) {\n        sharesList[i].push(corr)\n      } else {\n        sharesList[i] = [corr]\n      }\n    })\n  }\n  const msgNumArr = sharesList.map((shares) => seekIntercept(shares, q))\n  const result = decodeFromNumArr(msgNumArr)\n\n  return result\n}\n","export const q = 127\n","import React from 'react'\n\nimport { Share } from '../../../types/store'\n\nimport styles from './SharesTable.module.scss'\n// ____________________________________________________________________________\n//\ntype SharesTable = {\n  shares: Share[]\n}\n// ____________________________________________________________________________\n//\nexport const SharesTable: React.FC<SharesTable> = ({ shares }) => {\n  return (\n    <table className={styles.sharesTable}>\n      <thead>\n        <tr>\n          <th>ID</th>\n          <th>Share</th>\n        </tr>\n      </thead>\n      <tbody>\n        {shares.map((share) => (\n          <tr key={`SHARE-${share.x}`}>\n            <td>{share.x}</td>\n            <td>{share.y}</td>\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  )\n}\n","import React, { useState, useEffect } from 'react'\nimport { useSelector } from 'react-redux'\n\nimport { reconstruction as SSSSReconstruction } from '../../../logics/SSSS/reconstruction'\n\nimport { SharesTable } from '../../molecules/SharesTable/SharesTable.component'\n\nimport styles from './ReconstructionOrg.module.scss'\n// ____________________________________________________________________________\n//\nexport const ReconstructionOrg: React.FC = () => {\n  const shares = useSelector((state) => state.reconstruction.shares)\n  const [message, setMessage] = useState<null | string>(null)\n\n  useEffect(() => {\n    if (shares.length === 0) return\n\n    const { t } = shares[0]\n    if (t <= shares.length) {\n      setMessage(SSSSReconstruction(shares.slice(0, t)))\n    }\n  }, [shares])\n\n  return (\n    <div>\n      <div className={styles.cardTable}>\n        {shares.map((share) => (\n          <div className={styles.card} key={`CARD-${share.x}`}>\n            <span className={styles.y}>{share.y}</span>\n          </div>\n        ))}\n        {!message && (\n          <div className={styles.waves}>\n            <div className={styles.wave}></div>\n            <div className={styles.wave}></div>\n            <div className={styles.wave}></div>\n          </div>\n        )}\n        {message && (\n          <div className={styles.messageBody}>\n            <span className={styles.message}>{message}</span>\n          </div>\n        )}\n      </div>\n      <div>\n        <div className={styles.info}>\n          {message ? 'Completed!!' : 'PUT SHARE'}\n          {shares.length !== 0 && `(${shares.length}/${shares[0].t})`}\n        </div>\n        {shares.length !== 0 && <SharesTable shares={shares} />}\n      </div>\n    </div>\n  )\n}\n","export const ReconstructionActionTypes = {\n  INIT_RECONSTRUCTION_STATE: 'RECONSTRUCTION:INIT_RECONSTRUCTION_STATE',\n  SET_MESSAGE: 'RECONSTRUCTION:SET_MESSAGE',\n  SET_SHARES: 'RECONSTRUCTION:SET_SHARES',\n  APPEND_SHARE_FROM_TEXT: 'RECONSTRUCTION:APPEND_SHARE_FROM_TEXT',\n  CHANGE_ISREADY: 'RECONSTRUCTION:CHANGE_ISREADY',\n} as const\n","import { ReconstructionActionTypes } from './reconstruction.types'\n\nimport { Share } from '../../types/store'\n// ____________________________________________________________________________\n//\nexport const initReconstructionState = () => ({\n  type: ReconstructionActionTypes.INIT_RECONSTRUCTION_STATE,\n})\n\nexport const setMessage = (message: string) => ({\n  type: ReconstructionActionTypes.SET_MESSAGE,\n  payload: { message },\n})\n\nexport const setShares = (shares: Share[]) => ({\n  type: ReconstructionActionTypes.SET_SHARES,\n  payload: { shares },\n})\n\nexport const appendShareFromText = (text: string) => ({\n  type: ReconstructionActionTypes.APPEND_SHARE_FROM_TEXT,\n  payload: { text },\n})\n\nexport const changeIsReady = (isReady: boolean) => ({\n  type: ReconstructionActionTypes.CHANGE_ISREADY,\n  payload: { isReady },\n})\n","import React from 'react'\nimport { RouteComponentProps } from 'react-router'\n\nimport { HomePage } from './Home/Home.component'\nimport { SharingPage } from './Sharing/Sharing.component'\nimport { ReconstructionPage } from './Reconstruction/Reconstruction.component'\n\nimport homeIcon from '../../assets/home.svg'\nimport sharingIcon from '../../assets/sharing.svg'\nimport reconstructionIcon from '../../assets/reconstruction.svg'\n// ____________________________________________________________________________\n//\nexport type PageName = 'HOME' | 'SHARING' | 'RECONSTRUCTION'\nexport interface PageList {\n  path: string\n  name: PageName\n  component: React.FC<RouteComponentProps>\n  iconUrl: string\n}\n// ____________________________________________________________________________\n//\nexport const pages: PageList[] = [\n  { path: '/', name: 'HOME', component: HomePage, iconUrl: homeIcon },\n  {\n    path: '/sharing',\n    name: 'SHARING',\n    component: SharingPage,\n    iconUrl: sharingIcon,\n  },\n  {\n    path: '/reconstruction',\n    name: 'RECONSTRUCTION',\n    component: ReconstructionPage,\n    iconUrl: reconstructionIcon,\n  },\n]\n","import React from 'react'\nimport { RouteComponentProps } from 'react-router'\n\nimport { Layout } from '../../layouts/Layout/Layout.component'\n\nimport logo from '../../../assets/logo.svg'\n\nimport styles from './Home.module.scss'\n// ____________________________________________________________________________\n//\nexport const HomePage: React.FC<RouteComponentProps> = () => {\n  return (\n    <Layout>\n      <div className={styles.img}>\n        <img src={logo} alt=\"real sharing\" />\n      </div>\n      <div className={styles.card}>\n        <h1>Real Sharing</h1>\n        <p>A simulation web app of a secret sharing scheme using NFC.</p>\n        <ul>\n          <li>\n            Repo:{' '}\n            <a href=\"https://github.com/syakoo/real_share_app\">\n              https://github.com/syakoo/real_share_app\n            </a>\n          </li>\n          <li>\n            Movie:{' '}\n            <a href=\"https://youtu.be/6DLYic2Zvy0\">\n              https://youtu.be/6DLYic2Zvy0\n            </a>\n          </li>\n        </ul>\n      </div>\n      <div className={styles.card}>\n        <h1>What's the Secret Sharing</h1>\n        <p>\n          From Wikipedia(\n          <a href=\"https://en.wikipedia.org/wiki/Secret_sharing\">\n            Secret sharing\n          </a>\n          ):\n        </p>\n        <i>\n          Secret sharing (also called secret splitting) refers to methods for\n          distributing a secret amongst a group of participants, each of whom is\n          allocated a share of the secret. The secret can be reconstructed only\n          when a sufficient number, of possibly different types, of shares are\n          combined together; individual shares are of no use on their own.\n        </i>\n      </div>\n      <div className={styles.card}>\n        <h1>Help</h1>\n        <h2>SharingForm</h2>\n        <p>\n          In the sharing page, fill out the input form. The form contains three\n          params below.\n        </p>\n        <ul>\n          <li>Message</li>\n          <li>Threshold</li>\n          <li>Number of Shares</li>\n        </ul>\n        <h3>Message</h3>\n        <p>\n          The string you want to secret.{' '}\n          <span className={styles.warning}>\n            Due to encoding issues, non-alphanumeric characters may not work\n            well.\n          </span>\n        </p>\n        <h3>Threshold</h3>\n        <p>The number of shares needed to unlock the secret.</p>\n        <h3>Number of Shares</h3>\n        <p>The number of shares for writing data to NFC tags and cards.</p>\n      </div>\n    </Layout>\n  )\n}\n","import React, { useEffect } from 'react'\nimport { RouteComponentProps } from 'react-router'\nimport { useDispatch } from 'react-redux'\n\nimport { Layout } from '../../layouts/Layout/Layout.component'\nimport { SharingOrg } from '../../organisms/SharingOrg/SharingOrg.component'\n\nimport { initSharingState } from '../../../store/sharing/sharing.actions'\n// ____________________________________________________________________________\n//\nexport const SharingPage: React.FC<RouteComponentProps> = () => {\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    return () => {\n      dispatch(initSharingState())\n    }\n  }, [dispatch])\n\n  return (\n    <Layout pageTitle=\"Sharing\">\n      <SharingOrg />\n    </Layout>\n  )\n}\n","import React, { useEffect } from 'react'\nimport { RouteComponentProps } from 'react-router'\nimport { useDispatch } from 'react-redux'\n\nimport { Layout } from '../../layouts/Layout/Layout.component'\nimport { ReconstructionOrg } from '../../organisms/ReconstructionOrg/ReconstructionOrg.component'\n\nimport {\n  changeIsReady,\n  initReconstructionState,\n} from '../../../store/reconstruction/reconstruction.actions'\n// ____________________________________________________________________________\n//\nexport const ReconstructionPage: React.FC<RouteComponentProps> = () => {\n  const dispatch = useDispatch()\n  useEffect(() => {\n    dispatch(changeIsReady(true))\n    return () => {\n      dispatch(initReconstructionState())\n    }\n  }, [dispatch])\n\n  return (\n    <Layout pageTitle=\"Reconstcution\">\n      <ReconstructionOrg />\n    </Layout>\n  )\n}\n","import { ReducerActions } from '../../types/store'\n// ____________________________________________________________________________\n//\nexport interface NFCState {\n  enabled: boolean\n  fetchedMessage: string\n  ndef: NDEFReader | null\n}\nexport type NFCActions = ReducerActions<typeof import('./nfc.actions')>\n// ____________________________________________________________________________\n//\nconst initialState: NFCState = {\n  enabled: 'NDEFReader' in window,\n  fetchedMessage: '',\n  ndef: null,\n}\n// ____________________________________________________________________________\n//\nexport const NFCReducer = (state = initialState, action: NFCActions) => {\n  switch (action.type) {\n    case 'NFC:INIT_NDEF':\n      if (state.enabled && !state.ndef) {\n        return {\n          ...state,\n          ndef: new NDEFReader(),\n        }\n      } else {\n        return state\n      }\n    case 'NFC:SET_FETCHED_MESSAGE':\n      return {\n        ...state,\n        fetchedMessage: action.payload.message,\n      }\n    default:\n      return state\n  }\n}\n","import { MyError, ReducerActions } from '../../types/store'\n// ____________________________________________________________________________\n//\nexport interface ConfigState {\n  error: MyError | null\n}\nexport type ConfigActions = ReducerActions<typeof import('./config.actions')>\n// ____________________________________________________________________________\n//\nconst initialState: ConfigState = {\n  error: null,\n}\n// ____________________________________________________________________________\n//\nexport const configReducer = (state = initialState, action: ConfigActions) => {\n  switch (action.type) {\n    case 'CONFIG:SET_ERROR':\n      return {\n        ...state,\n        error: {\n          message: action.payload.error,\n          date: new Date(),\n        },\n      }\n    default:\n      return state\n  }\n}\n","import { ReducerActions } from '../../types/store'\n//_____________________________________________________________________________\n//\nexport interface SharingState {\n  sharingStep: 'INPUT' | 'SHARING' | 'SUCCESS'\n  message: string\n  sharesNum: number\n  count: number\n}\nexport type SharingActions = ReducerActions<typeof import('./sharing.actions')>\n// ____________________________________________________________________________\n//\nexport const initialState: SharingState = {\n  sharingStep: 'INPUT',\n  message: '',\n  sharesNum: 0,\n  count: 0,\n}\n// ____________________________________________________________________________\n//\nexport const sharingReducer = (\n  state = initialState,\n  action: SharingActions\n): SharingState => {\n  switch (action.type) {\n    case 'SHARING:INIT_SHARING_STATE':\n      return {\n        ...state,\n        ...initialState,\n      }\n    case 'SHARING:SET_COUNTER':\n      return {\n        ...state,\n        count: action.payload.count,\n      }\n    case 'SHARING:DECREMENT_COUNTER':\n      return {\n        ...state,\n        count: state.count - 1,\n      }\n    case 'SHARING:START_SHARING':\n      return {\n        ...state,\n        sharingStep: 'SHARING',\n        message: action.payload.messageForm.message,\n        sharesNum: action.payload.messageForm.n,\n      }\n    case 'SHARING:END_SHARING':\n      return {\n        ...state,\n        sharingStep: 'SUCCESS',\n      }\n    default:\n      return state\n  }\n}\n","import { Share, ReducerActions } from '../../types/store'\n//_____________________________________________________________________________\n//\nexport interface ReconstructionState {\n  isReady: boolean\n  message: string\n  shares: Share[]\n}\nexport type ReconstructionActions = ReducerActions<\n  typeof import('./reconstruction.actions')\n>\n// ____________________________________________________________________________\n//\nexport const initialState: ReconstructionState = {\n  isReady: false,\n  message: '',\n  shares: [],\n}\n// ____________________________________________________________________________\n//\nexport const reconstructionReducer = (\n  state = initialState,\n  action: ReconstructionActions\n) => {\n  switch (action.type) {\n    case 'RECONSTRUCTION:INIT_RECONSTRUCTION_STATE':\n      return {\n        ...state,\n        ...initialState,\n      }\n    case 'RECONSTRUCTION:SET_MESSAGE':\n      return {\n        ...state,\n        message: action.payload.message,\n      }\n    case 'RECONSTRUCTION:SET_SHARES':\n      return {\n        ...state,\n        shares: action.payload.shares,\n      }\n    case 'RECONSTRUCTION:CHANGE_ISREADY':\n      return {\n        ...state,\n        isReady: action.payload.isReady,\n      }\n    default:\n      return state\n  }\n}\n","import { combineReducers } from 'redux'\n\nimport { NFCState, NFCReducer } from './nfc/nfc.reducer'\nimport { ConfigState, configReducer } from './config/config.reducer'\nimport { SharingState, sharingReducer } from './sharing/sharing.reducer'\nimport {\n  ReconstructionState,\n  reconstructionReducer,\n} from './reconstruction/reconstruction.reducer'\n// ____________________________________________________________________________\n//\nexport interface State {\n  nfc: NFCState\n  config: ConfigState\n  sharing: SharingState\n  reconstruction: ReconstructionState\n}\n// ____________________________________________________________________________\n//\nexport const rootReducer = combineReducers<State>({\n  nfc: NFCReducer,\n  config: configReducer,\n  sharing: sharingReducer,\n  reconstruction: reconstructionReducer,\n})\n","export const ConfigActionTypes = {\n  SET_ERROR: 'CONFIG:SET_ERROR',\n} as const\n","import { ConfigActionTypes } from './config.types'\nimport { MyError } from '../../types/store'\n// ____________________________________________________________________________\n//\nexport const setError = (error: MyError['message']) => ({\n  type: ConfigActionTypes.SET_ERROR,\n  payload: { error },\n})\n","export const NFCActionTypes = {\n  INIT_NDEF: 'NFC:INIT_NDEF',\n  SET_FETCHED_MESSAGE: 'NFC:SET_FETCHED_MESSAGE',\n  START_NFC_READ_LISTEN: 'NFC:START_NFC_READ_LISTEN',\n} as const\n","import { NFCActionTypes } from './nfc.types'\n\n// ____________________________________________________________________________\n//\nexport const initNDEF = () => ({\n  type: NFCActionTypes.INIT_NDEF,\n})\n\nexport const setFetchedMessage = (message: string) => ({\n  type: NFCActionTypes.SET_FETCHED_MESSAGE,\n  payload: { message },\n})\n\nexport const startNFCReadListen = () => ({\n  type: NFCActionTypes.START_NFC_READ_LISTEN,\n})\n","import { all, put, call, takeLatest, select } from 'redux-saga/effects'\nimport { Store, Dispatch } from 'redux'\n\nimport { setFetchedMessage } from './nfc.actions'\nimport { appendShareFromText } from '../reconstruction/reconstruction.actions'\n\nimport { NFCActionTypes } from './nfc.types'\nimport { State } from '../rootReducer'\nimport { setError } from 'store/config/config.actions'\n// ____________________________________________________________________________\n//\nasync function writeNDEF(message: string, ndef: NDEFReader) {\n  await ndef.write(message)\n}\nasync function readNFC(reader: NDEFReader, dispatch: Dispatch<any>) {\n  reader.onerror = (error) => {\n    console.log({ error })\n    throw new Error(error.message)\n  }\n\n  reader.onreading = (event) => {\n    for (const record of event.message.records) {\n      if (record.recordType === 'text') {\n        const textDecoder = new TextDecoder()\n        const data = textDecoder.decode(record.data)\n\n        dispatch(setFetchedMessage(data))\n      }\n    }\n  }\n  await reader.scan()\n}\nexport function* writingNDEF(message: string) {\n  const {\n    nfc: { ndef },\n  }: State = yield select()\n\n  if (ndef) {\n    yield call(writeNDEF, message, ndef)\n  }\n}\nfunction* readingNFC(store: Store<State>) {\n  const {\n    nfc: { ndef },\n  }: State = yield select()\n\n  if (ndef) {\n    const { dispatch } = store\n    try {\n      yield call(readNFC, ndef, dispatch)\n    } catch (error) {\n      yield put(setError('An error occurred while reading. Please try again.'))\n    }\n  }\n}\nfunction* appendFetchedMessageToShares(\n  action: ReturnType<typeof setFetchedMessage>\n) {\n  const { message } = action.payload\n  yield put(appendShareFromText(message))\n}\n// ____________________________________________________________________________\n//\nfunction* onReadingNFC(store: Store<State>) {\n  yield takeLatest(NFCActionTypes.START_NFC_READ_LISTEN, readingNFC, store)\n}\nfunction* onChangeFetchedMessage() {\n  yield takeLatest(\n    NFCActionTypes.SET_FETCHED_MESSAGE,\n    appendFetchedMessageToShares\n  )\n}\n// ____________________________________________________________________________\n//\nexport default function* (store: Store<State>) {\n  yield all([call(onReadingNFC, store), call(onChangeFetchedMessage)])\n}\n","import { getRandomIntList } from './utils'\nimport { encodeToNumArr, decodeFromNumArr } from '../convertor'\nimport { q } from './config'\n\nimport type { MessageForm } from '../../types/form'\nimport type { Share } from '../../types/store'\n// ____________________________________________________________________________\n//\nexport const sharing = ({ message, n, t }: MessageForm): Share[] => {\n  if (n < t) throw Error('n must be greater than or equal t')\n  if (t <= 1) throw Error('t must be greater than 1')\n\n  const msgEncoded = encodeToNumArr(message)\n  const sharingId = String(Date.now()).slice(-6)\n\n  const sharesList: number[][] = [...Array(n)].map(() => [])\n  msgEncoded.forEach((msg, i) => {\n    let f = getRandomIntList(t - 1, q)\n    sharesList.forEach((_, j) => {\n      let shareY = msg\n      const shareX = j + 1\n      f.forEach((val, k) => {\n        shareY += val * Math.pow(shareX, k + 1)\n        shareY %= q\n      })\n      sharesList[j].push(shareY)\n    })\n  })\n  const sharesY = sharesList.map((s) => decodeFromNumArr(s))\n\n  const result = sharesY.map(\n    (y, i): Share => {\n      return {\n        sharingId,\n        t,\n        x: i + 1,\n        y,\n      }\n    }\n  )\n\n  return result\n}\n","import { all, put, call, takeLatest } from 'redux-saga/effects'\n\nimport {\n  startSharing,\n  endSharing,\n  setCounter,\n  decrementCounter,\n  initSharingState,\n} from './sharing.actions'\nimport { setError } from '../config/config.actions'\nimport { writingNDEF } from '../nfc/nfc.sagas'\nimport { shareToStr } from '../../logics/convertor'\nimport { sharing as SSSSSharing } from '../../logics/SSSS/sharing'\n\nimport { SharingActionTypes } from './sharing.types'\nimport { Share } from '../../types/store'\n// ____________________________________________________________________________\n//\nfunction* sendShares(counter: number, shares: Share[]) {\n  while (counter > 0) {\n    const shareMsg = shareToStr(shares[counter - 1])\n    try {\n      yield call(writingNDEF, shareMsg)\n      counter--\n      yield put(decrementCounter())\n    } catch (error) {\n      yield put(\n        setError('An error occurred while writing shares. Please try again.')\n      )\n    }\n    yield new Promise((resolve) => setTimeout(resolve, 1000))\n  }\n}\nexport function* sharing(action: ReturnType<typeof startSharing>) {\n  try {\n    const { message, t, n } = action.payload.messageForm\n    const shares: Share[] = SSSSSharing({ message, n, t })\n    yield put(setCounter(n))\n    yield sendShares(n, shares)\n    yield put(endSharing())\n  } catch (error) {\n    yield put(\n      setError(\n        'An error occurred while sharing. Please start again from the beginning.'\n      )\n    )\n    yield put(initSharingState())\n  }\n}\n// ____________________________________________________________________________\n//\nexport function* onSharingStart() {\n  yield takeLatest(SharingActionTypes.START_SHARING, sharing)\n}\n// ____________________________________________________________________________\n//\nexport default function* () {\n  yield all([call(onSharingStart)])\n}\n","import { all, call, put, takeLatest, select } from 'redux-saga/effects'\n\nimport { appendShareFromText, setShares } from './reconstruction.actions'\nimport { setError } from '../config/config.actions'\n\nimport { State } from '../rootReducer'\n\nimport { strToShare } from '../../logics/convertor'\n\nimport { Share } from 'types/store'\nimport { ReconstructionActionTypes } from './reconstruction.types'\n// ____________________________________________________________________________\n//\nfunction* appendingShareFromText(\n  action: ReturnType<typeof appendShareFromText>\n) {\n  const {\n    reconstruction: { isReady, shares },\n  }: State = yield select()\n  if (!isReady) return\n\n  const { text } = action.payload\n  let share: Share\n  try {\n    share = strToShare(text)\n  } catch (error) {\n    yield put(setError('The format of the data is different.'))\n    return\n  }\n\n  if (shares.length !== 0) {\n    if (shares[0].sharingId !== share.sharingId) {\n      yield put(setError('This is a share of another data.'))\n      return\n    }\n    if (shares.find((s) => s.x === share.x)) {\n      yield put(\n        setError('Duplicate loads or the same share has already been loaded.')\n      )\n      return\n    }\n  }\n\n  const newShares = [...shares, share]\n  yield put(setShares(newShares))\n}\n// ____________________________________________________________________________\n//\nexport function* onAppendShare() {\n  yield takeLatest(\n    ReconstructionActionTypes.APPEND_SHARE_FROM_TEXT,\n    appendingShareFromText\n  )\n}\n// ____________________________________________________________________________\n//\nexport default function* () {\n  yield all([call(onAppendShare)])\n}\n","import { all, call } from 'redux-saga/effects'\n\nimport sharingSagas from './sharing/sharing.sagas'\nimport nfcSagas from './nfc/nfc.sagas'\nimport reconstructionSagas from './reconstruction/reconstruction.sagas'\n\nimport { store } from './'\n// ____________________________________________________________________________\n//\nexport function* rootSaga() {\n  yield all([\n    call(sharingSagas),\n    call(nfcSagas, store),\n    call(reconstructionSagas),\n  ])\n}\n","import Redux, { createStore, applyMiddleware } from 'redux'\nimport logger from 'redux-logger'\nimport createSagaMiddleware from 'redux-saga'\n\nimport { rootReducer } from './rootReducer'\nimport { rootSaga } from './rootSaga'\n\nimport { NFCActions } from './nfc/nfc.reducer'\nimport { ConfigActions } from './config/config.reducer'\nimport { SharingActions } from './sharing/sharing.reducer'\nimport { ReconstructionActions } from './reconstruction/reconstruction.reducer'\n// ____________________________________________________________________________\n//\nexport type Actions =\n  | ConfigActions\n  | NFCActions\n  | SharingActions\n  | ReconstructionActions\n// ____________________________________________________________________________\n//\nconst sagaMiddleware = createSagaMiddleware()\n\nconst middlewares: Redux.Middleware[] = [sagaMiddleware]\nif (process.env.NODE_ENV === 'development') {\n  middlewares.push(logger)\n}\n\nexport const store = createStore(rootReducer, applyMiddleware(...middlewares))\n\nsagaMiddleware.run(rootSaga)\n","import React, { useEffect } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\n\nimport { initNDEF, startNFCReadListen } from '../../../store/nfc/nfc.actions'\n\nimport styles from './NFCGate.module.scss'\n// ____________________________________________________________________________\n//\nexport const NFCGate: React.FC = ({ children }) => {\n  const enabled = useSelector((state) => state.nfc.enabled)\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    if (enabled) {\n      dispatch(initNDEF())\n      dispatch(startNFCReadListen())\n    }\n  }, [enabled, dispatch])\n  return <>{enabled ? children : <NFCDenied />}</>\n}\n\nconst NFCDenied: React.FC = () => (\n  <div className={styles.denied}>\n    <h1>NFC Did Not Supported</h1>\n    <div>\n      <h2>How to set WebNFC enabled</h2>\n      <p>\n        If you're using Google Chrome, go to{' '}\n        <a href=\"chrome://flags/#enable-webnfc\">\n          chrome://flags/#enable-webnfc\n        </a>{' '}\n        and enable it.\n      </p>\n      <p>\n        If that still doesn't work, either restart this browser or check your\n        phone's NFC settings.\n      </p>\n    </div>\n  </div>\n)\n","import React from 'react'\nimport { Route, Switch } from 'react-router'\nimport { HashRouter } from 'react-router-dom'\nimport { Provider } from 'react-redux'\n\nimport { pages } from './components/pages'\nimport { store } from './store'\n\nimport { NFCGate } from './components/organisms/NFCGate/NFCGate.component'\n// ____________________________________________________________________________\n//\nexport const App: React.FC = () => {\n  return (\n    <Provider store={store}>\n      <NFCGate>\n        <HashRouter>\n          <Switch>\n            {pages.map((page) => (\n              <Route\n                exact\n                key={`PAGE-${page.name}`}\n                path={page.path}\n                component={page.component}\n              />\n            ))}\n          </Switch>\n        </HashRouter>\n      </NFCGate>\n    </Provider>\n  )\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport \"./index.css\"\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nserviceWorker.unregister();\n"],"sourceRoot":""}